import os
from google.cloud import texttospeech

# โ๏ธ ุถุน ูุณุงุฑ ููู ุงูุฎุฏูุฉ ููุง
os.environ["GOOGLE_APPLICATION_CREDENTIALS"] = r"C:\Users\surfe\OneDrive\Desktop\automation\n8nraghad-7fc0064b9857.json"

# ุฅูุดุงุก ุงูุนููู
client = texttospeech.TextToSpeechClient()

# ๐ ุงููุต ุงูุนุฑุจู ุจุตูุบุฉ ุฅุฐุงุนูุฉ
arabic_text = """
ุชู ุฃุจูุจ - ูุนุง - 
ูุฌุฑู ุงูุฃูู ุงูุฅุณุฑุงุฆููู ุชุญูููุง ูู ุณุจุจ ุงูุชูุงุน ุญุฑูุฉ ุญูุงุณ ุนู ุชุณููู ุฑูุงุช ุงูุฌูุฏู ุงูุฃุณูุฑ. 

ุฃูุงุฏุช ุตุญููุฉ ูุนุงุฑูู ุงูุนุจุฑูุฉุ ุฃู ุฅุณุฑุงุฆูู ุชูุฏูุฑ ุณุจุจูู: 
ุงูุฃููุ ุฅุฏุงุฑุฉ ุญุฑุจ ููุณูุฉ ุจุฃุณููุจ ุณุงุฎุฑุ 
ูุงูุซุงููุ ุนุฏู ุงูุชุฃูุฏ ูู ูููุฉ ุงูุฌูุฏู. 

ุญูุงุณ ุนุซุฑุช ุงูููู ุนูู ุฎูุณ ุฌุซุซ ุฎูุงู ุญูุฑ ูู ุดูุงู ูุทุงุน ุบุฒุฉุ 
ูููุง ุฌุซุฉ ูุนุชูุฏ ุฃููุง ูุฌูุฏู ุฅุณุฑุงุฆูููุ ููููุง ูู ุชูุณูู ุจุนุฏ. 

ุฃุฑุจุนุฉ ูู ุงูุฌุซุซ ุชุนูุฏ ูุนูุงุตุฑ ุงูุญุฑูุฉุ ูุงูุฎุงูุณุฉ ููุนุชูุฏ ุฃููุง ูุฅุณุฑุงุฆููู ูุญุชุฌุฒ. 

ูุตุงุฏุฑ ุฅุณุฑุงุฆูููุฉ ุชุคูุฏ ุฃู ุงูุฌุซุฉ ุงููุญุชุฌุฒุฉ ูุฏู ุญูุงุณ ูู ูุญุฏุฉ ูุนุงูุฌุฉ ุฌุซุงููู ุงููุฎุทูููู. 
ุงูุญุฑูุฉ ูุง ุฒุงูุช ุชุญุชุฌุฒ ุฌุซุฉ ุงูุฌูุฏู ุฑุงู ุบููููุ ูููุงุทู ุชุงูููุฏู ููุฏุนู ุณูุชูุชุณุงู ุฑููุชูุงูุ ูุชุนุฑู ููุงู ูุฌูุฏููุง. 

ุฅุณุฑุงุฆูู ุณูุญุช ููุตููุจ ุงูุฃุญูุฑ ูุนูุงุตุฑ ุญูุงุณ ุจุนุจูุฑ ุงูุฎุท ุงูุฃุตูุฑ ุดูุงู ุงููุทุงุน ููุจุญุซ ุนู ุขุฎุฑ ุงููุญุชุฌุฒูู. 

ุญูุงุณ ุชุนูู ููุฐ ุงูุตุจุงุญ ูู ุญู ุจูุช ูุงููุง ูุณุชุฎุฏูุฉ ุฌุฑุงูุงุช ูุขููุงุช ููุฏุณูุฉุ ูุณุท ุชูุฏูุฑุงุช ุฅุณุฑุงุฆูููุฉ ุฃููุง ุชุญุงูู ูุณุจ ููุช ูุฎูู ุถุบุท ููุณู ุนูู ุงูุฌูููุฑ.
"""

input_text = texttospeech.SynthesisInput(text=arabic_text)

# ๐จ ุตูุช ุนุฑุจู ุฐูุฑ
voice = texttospeech.VoiceSelectionParams(
    language_code="ar-XA",
    name="ar-XA-Chirp3-HD-Achird",
    ssml_gender=texttospeech.SsmlVoiceGender.MALE
)

# ุฅุนุฏุงุฏุงุช ุงูุตูุช
audio_config = texttospeech.AudioConfig(
    audio_encoding=texttospeech.AudioEncoding.MP3
)

# ุชุญููู ุงููุต ุฅูู ุตูุช
response = client.synthesize_speech(
    input=input_text,
    voice=voice,
    audio_config=audio_config
)

# ุญูุธ ุงูููู
with open("news_broadcast_arabic_male.mp3", "wb") as out:
    out.write(response.audio_content)

print("โ Done! ุงูุตูุช ุฌุงูุฒ ุจุตูุบุฉ ุฅุฐุงุนูุฉ: news_broadcast_arabic_male.mp3")
